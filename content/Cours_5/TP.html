<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Remi Genet">
<meta name="dcterms.date" content="2024-10-21">
<meta name="description" content="A hands-on practical exercise on creating a simple machine learning package for linear regression, exploring package management, testing, manual publishing, and automating the publishing process.">

<title>TP: Creating a Linear Regression Package – Programmation Orientée Objet en Python</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../content/Cours_5/4-Tests.html" rel="prev">
<link href="../../content/.img/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="TP: Creating a Linear Regression Package – Programmation Orientée Objet en Python">
<meta property="og:description" content="A hands-on practical exercise on creating a simple machine learning package for linear regression, exploring package management, testing, manual publishing, and automating the publishing process.">
<meta property="og:site_name" content="Programmation Orientée Objet en Python">
<meta name="citation_title" content="TP: Creating a Linear Regression Package">
<meta name="citation_author" content="Remi Genet">
<meta name="citation_publication_date" content="2024-10-21">
<meta name="citation_cover_date" content="2024-10-21">
<meta name="citation_year" content="2024">
<meta name="citation_online_date" content="2024-10-21">
<meta name="citation_fulltext_html_url" content="https://remigenet.github.io/OOP_Python/content/Cours_5/TP.html">
<meta name="citation_language" content="en">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Programmation Orientée Objet en Python</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://remigenet.github.io/"> 
<span class="menu-text">Back to Main Website</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-introduction-histoire-et-concepts" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Introduction: Histoire et Concepts</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-introduction-histoire-et-concepts">    
        <li>
    <a class="dropdown-item" href="../../content/Cours_1/index.html">
 <span class="dropdown-text">Introduction: Histoire et Concepts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_1/1-Histoire.html">
 <span class="dropdown-text">Histoire de la programmation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_1/2-Structuration_des_donnees.html">
 <span class="dropdown-text">Première Structuration des données</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_1/3-NaissancePOO.html">
 <span class="dropdown-text">Naissance de la POO</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_1/4-all_is_object.html">
 <span class="dropdown-text">Python: tout n’est qu’objet</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_1/5-Simplicity_and_performance.html">
 <span class="dropdown-text">Python : Simplicité des objets et performance sous-jacente</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_1/6-Bases_of_classes_in_python.html">
 <span class="dropdown-text">Classes en Python : Concepts fondamentaux</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Travaux Pratiques</li>
        <li>
    <a class="dropdown-item" href="../../content/Cours_1/TP_Liste.html">
 <span class="dropdown-text">Construire sa propre Liste</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_1/TP_dataframe.html">
 <span class="dropdown-text">Construire son propre DataFrame</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-encapsulation-héritage-composition-et-dunder" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Encapsulation, Héritage, Composition et Dunder</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-encapsulation-héritage-composition-et-dunder">    
        <li>
    <a class="dropdown-item" href="../../content/Cours_2/index.html">
 <span class="dropdown-text">Encapsulation, Heritage, Composition et Dunder</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_2/1-Encapsulation.html">
 <span class="dropdown-text">Encapsulation en Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_2/2-Heritage.html">
 <span class="dropdown-text">Héritage en Python : Concept et intérêt</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_2/3-Composition.html">
 <span class="dropdown-text">Héritage vs Composition</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_2/4-Dunder.html">
 <span class="dropdown-text">Méthodes Dunder en Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_2/5-call_a_dog.html">
 <span class="dropdown-text">Python <strong>call</strong> Method: A Fun Exploration</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Travaux Pratiques</li>
        <li>
    <a class="dropdown-item" href="../../content/Cours_2/TP_heritage.html">
 <span class="dropdown-text">TP: Heritage avec le pricing d’option</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_2/TP_dunder_dataframe.html">
 <span class="dropdown-text">TP : Ajouter des méthodes dunder à DataFrameSimple</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_2/TP_dunder_liste.html">
 <span class="dropdown-text">TP : Étendre la classe Liste avec des méthodes dunder</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_2/TP_dunder_tensor.html">
 <span class="dropdown-text">TP: Dunder Method with Tensor for Automatic Differentiation</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-polymorphisme-et-surcharge" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Polymorphisme et Surcharge</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-polymorphisme-et-surcharge">    
        <li>
    <a class="dropdown-item" href="../../content/Cours_3/index.html">
 <span class="dropdown-text">Polymorphisme et Surcharge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_3/1-Polymorphism.html">
 <span class="dropdown-text">Polymorphism in Object-Oriented Programming</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_3/2-Overloading.html">
 <span class="dropdown-text">Polymorphism in Python: Function Overloading and Type Checking</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_3/3-type_to_create.html">
 <span class="dropdown-text">Class Creation: Standard vs type()</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_3/4-Type_Hinting.html">
 <span class="dropdown-text">Type Hinting, Typing Module, and Linters in Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_3/5-Abstract_class.html">
 <span class="dropdown-text">Abstract Classes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_3/6-Protocol.html">
 <span class="dropdown-text">Protocol Classes</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Travaux Pratiques</li>
        <li>
    <a class="dropdown-item" href="../../content/Cours_3/TP_equity_portfolio.html">
 <span class="dropdown-text">TP</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-decorators" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Decorators</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-decorators">    
        <li>
    <a class="dropdown-item" href="../../content/Cours_4/1-Design_Pattern.html">
 <span class="dropdown-text">Design Patterns</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_4/2-Decorator_theory.html">
 <span class="dropdown-text">The decorator pattern</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_4/3-Decorator_practically.html">
 <span class="dropdown-text">Decorator Practically</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_4/4-builtin_decorator.html">
 <span class="dropdown-text">Built-in Decorators and Standard Library Decorators in Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_4/5-library_decorators.html">
 <span class="dropdown-text">Practical Decorators in Python Libraries</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Travaux Pratiques</li>
        <li>
    <a class="dropdown-item" href="../../content/Cours_4/TP_option.html">
 <span class="dropdown-text">TP: Monte Carlo Option Pricing with Decorators</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_4/TP_library.html">
 <span class="dropdown-text">TP: Optimizing Heston Model Monte Carlo Simulation</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-project-management-and-packaging" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Project Management and Packaging</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-project-management-and-packaging">    
        <li>
    <a class="dropdown-item" href="../../content/Cours_5/index.html">
 <span class="dropdown-text">Project and Package</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_5/1-Project_layout.html">
 <span class="dropdown-text">Organizing Python Projects</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_5/2-Import.html">
 <span class="dropdown-text">Understanding imports</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_5/3-Packaging_and_environment.html">
 <span class="dropdown-text">Python Package Management and Virtual Environments</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_5/4-Tests.html">
 <span class="dropdown-text">Unit Testing in Python</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Travaux Pratiques</li>
        <li>
    <a class="dropdown-item" href="../../content/Cours_5/TP.html">
 <span class="dropdown-text">TP: Creating a Linear Regression Package</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-design-patterns" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Design Patterns</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-design-patterns">    
        <li>
    <a class="dropdown-item" href="../../content/Cours_6/index.html">
 <span class="dropdown-text">OOP Design Patterns</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_6/1-Python_Design_Pattern.html">
 <span class="dropdown-text">Python-Specific Design Patterns</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_6/2-Creational_patterns.html">
 <span class="dropdown-text">Creation Design Patterns</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_6/3-Structural_patterns.html">
 <span class="dropdown-text">Structural Design Patterns</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Cours_6/4-behavioral_patterns.html">
 <span class="dropdown-text">Behavioral Design Pattern</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Travaux Pratiques</li>
        <li>
    <a class="dropdown-item" href="../../content/Cours_6/TP.html">
 <span class="dropdown-text">TP</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-sujets-de-projets-possibles" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Sujets de Projets possibles</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-sujets-de-projets-possibles">    
        <li>
    <a class="dropdown-item" href="../../content/Projets/index.html">
 <span class="dropdown-text">Projets</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../content/Projets/m2_EIF_2024.html">
 <span class="dropdown-text">Projets POO - 2024-2025</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/remigenet/OOP_Python">
            Code source
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../content/Cours_5/TP.html">Travaux Pratiques</a></li><li class="breadcrumb-item"><a href="../../content/Cours_5/TP.html">TP: Creating a Linear Regression Package</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/Cours_5/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project and Package</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/Cours_5/1-Project_layout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Organizing Python Projects</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/Cours_5/2-Import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Understanding imports</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/Cours_5/3-Packaging_and_environment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python Package Management and Virtual Environments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/Cours_5/4-Tests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unit Testing in Python</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Travaux Pratiques</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../content/Cours_5/TP.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">TP: Creating a Linear Regression Package</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives">Objectives</a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a></li>
  <li><a href="#step-1-setting-up-the-project" id="toc-step-1-setting-up-the-project" class="nav-link" data-scroll-target="#step-1-setting-up-the-project">Step 1: Setting Up the Project</a></li>
  <li><a href="#step-2-implementing-linear-regression" id="toc-step-2-implementing-linear-regression" class="nav-link" data-scroll-target="#step-2-implementing-linear-regression">Step 2: Implementing Linear Regression</a></li>
  <li><a href="#step-3-writing-tests" id="toc-step-3-writing-tests" class="nav-link" data-scroll-target="#step-3-writing-tests">Step 3: Writing Tests</a></li>
  <li><a href="#step-4-setting-up-basic-github-actions" id="toc-step-4-setting-up-basic-github-actions" class="nav-link" data-scroll-target="#step-4-setting-up-basic-github-actions">Step 4: Setting Up Basic GitHub Actions</a></li>
  <li><a href="#step-5-manual-package-publishing" id="toc-step-5-manual-package-publishing" class="nav-link" data-scroll-target="#step-5-manual-package-publishing">Step 5: Manual Package Publishing</a></li>
  <li><a href="#step-6-automating-package-publishing" id="toc-step-6-automating-package-publishing" class="nav-link" data-scroll-target="#step-6-automating-package-publishing">Step 6: Automating Package Publishing</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../content/Cours_5/TP.html">Travaux Pratiques</a></li><li class="breadcrumb-item"><a href="../../content/Cours_5/TP.html">TP: Creating a Linear Regression Package</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">TP: Creating a Linear Regression Package</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Course</div>
    <div class="quarto-category">Financial Programming</div>
  </div>
  </div>

<div>
  <div class="description">
    A hands-on practical exercise on creating a simple machine learning package for linear regression, exploring package management, testing, manual publishing, and automating the publishing process.
  </div>
</div>


<div class="quarto-title-meta column-body">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Remi Genet </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2024-10-21</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>In this TP, you’ll create a simple machine learning package focused on linear regression. You’ll use modern Python tools like Poetry for package management, implement basic classes, write tests, set up continuous integration, manually publish your package, and finally automate the publishing process.</p>
</section>
<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">Objectives</h2>
<p>By the end of this TP, you will:</p>
<ol type="1">
<li>Set up a Python project using Poetry</li>
<li>Implement a basic linear regression class</li>
<li>Write unit tests for your implementation</li>
<li>Use GitHub Actions for continuous integration</li>
<li>Manually publish your package to PyPI</li>
<li>Automate the publishing process using GitHub Actions</li>
</ol>
</section>
<section id="prerequisites" class="level2">
<h2 class="anchored" data-anchor-id="prerequisites">Prerequisites</h2>
<ul>
<li>Basic understanding of Python and object-oriented programming</li>
<li>Familiarity with linear regression concepts</li>
<li>Git and GitHub account</li>
<li>Python 3.8 or higher installed</li>
</ul>
</section>
<section id="step-1-setting-up-the-project" class="level2">
<h2 class="anchored" data-anchor-id="step-1-setting-up-the-project">Step 1: Setting Up the Project</h2>
<p>Set up your project using Poetry.</p>
<ol type="1">
<li>Install Poetry if you haven’t already.</li>
<li>Create a new project named <code>finance-ml</code>.</li>
<li>Edit the <code>pyproject.toml</code> file to add necessary dependencies (numpy for calculations, pytest for testing).</li>
<li>Install the dependencies using Poetry.</li>
</ol>
<p><strong>Exercise 1:</strong> Set up the project structure as described above. Familiarize yourself with the <code>pyproject.toml</code> file and Poetry commands.</p>
</section>
<section id="step-2-implementing-linear-regression" class="level2">
<h2 class="anchored" data-anchor-id="step-2-implementing-linear-regression">Step 2: Implementing Linear Regression</h2>
<p>Implement a basic linear regression class.</p>
<p>Create a new file <code>src/finance_ml/linear_models.py</code> and implement a <code>LinearRegression</code> class with the following methods:</p>
<ul>
<li><code>__init__(self, use_intercept=True)</code>: Initialize the model parameters.</li>
<li><code>fit(self, X, y)</code>: Fit the model to the training data.</li>
<li><code>predict(self, X)</code>: Make predictions using the trained model.</li>
</ul>
<p>Your implementation should handle cases with and without an intercept term and use numpy for efficient calculations.</p>
<p><strong>Exercise 2:</strong> Implement the <code>LinearRegression</code> class as described above.</p>
</section>
<section id="step-3-writing-tests" class="level2">
<h2 class="anchored" data-anchor-id="step-3-writing-tests">Step 3: Writing Tests</h2>
<p>Write tests for your <code>LinearRegression</code> class to ensure it works correctly.</p>
<p>Create a new file <code>tests/test_linear_models.py</code> and write test functions to cover various scenarios and edge cases.</p>
<p><strong>Exercise 3:</strong> Implement the test functions for your <code>LinearRegression</code> class.</p>
</section>
<section id="step-4-setting-up-basic-github-actions" class="level2">
<h2 class="anchored" data-anchor-id="step-4-setting-up-basic-github-actions">Step 4: Setting Up Basic GitHub Actions</h2>
<p>Set up a basic GitHub Actions workflow to run your tests automatically.</p>
<p>Create a new file <code>.github/workflows/tests.yml</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> Run Tests</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">on</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">push</span><span class="kw">,</span><span class="at"> pull_request</span><span class="kw">]</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">jobs</span><span class="kw">:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">test</span><span class="kw">:</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">runs-on</span><span class="kw">:</span><span class="at"> ubuntu-latest</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/checkout@v2</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Set up Python</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/setup-python@v2</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">python-version</span><span class="kw">:</span><span class="at"> </span><span class="st">'3.8'</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Install dependencies</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">      run</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        pip install poetry</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        poetry install</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Run tests</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">run</span><span class="kw">:</span><span class="at"> poetry run pytest</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Exercise 4:</strong> 1. Set up a GitHub repository for your project and add the GitHub Actions workflow as shown above. 2. Push your code and verify that the tests run automatically on push and pull requests.</p>
</section>
<section id="step-5-manual-package-publishing" class="level2">
<h2 class="anchored" data-anchor-id="step-5-manual-package-publishing">Step 5: Manual Package Publishing</h2>
<p>Now, let’s publish your package to PyPI manually using Poetry.</p>
<ol type="1">
<li>Register an account on PyPI (https://pypi.org/)</li>
<li>Build your package using Poetry</li>
<li>Publish your package to PyPI using Poetry</li>
</ol>
<p><strong>Exercise 5:</strong> Follow the steps above to manually publish your package to PyPI. Verify that you can install your package from PyPI using pip.</p>
</section>
<section id="step-6-automating-package-publishing" class="level2">
<h2 class="anchored" data-anchor-id="step-6-automating-package-publishing">Step 6: Automating Package Publishing</h2>
<p>Finally, let’s automate the publishing process using GitHub Actions.</p>
<p><strong>Exercise 6:</strong> 1. Modify the GitHub Actions workflow you created in Step 4 to include a job for publishing the package to PyPI when pushing to the main branch. 2. Research how to securely add your PyPI credentials as secrets in GitHub Actions. 3. Update your workflow to use these secrets for authentication when publishing. 4. Test your automated publishing process by pushing a change to the main branch.</p>
<p>Hint: You’ll need to add a new job to your workflow, use conditional execution based on the branch, and incorporate the PyPI credentials as secrets.</p>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/remigenet\.github\.io\/OOP_Python\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="../../content/Cours_5/4-Tests.html" class="pagination-link" aria-label="Unit Testing in Python">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Unit Testing in Python</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Programmation Orienté Object en Python, Rémi Genet.<br> Licence <i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i><br> Code source disponible sur <a href="https://github.com/remigenet/OOP_Python"><code>Github</code></a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Site construit avec <i class="fa-brands fa-python" aria-label="python"></i> et <a href="https://quarto.org/"><code>Quarto</code></a><br> Inspiration pour la mise en forme du site <a href="https://github.com/linogaliana/python-datascientist">ici</a><br> <a href="https://github.com/remigenet/OOP_Python">Code source disponible sur <i class="fa-brands fa-github" aria-label="github"></i> <code>GitHub</code></a></p>
</div>
  </div>
</footer>




</body></html>